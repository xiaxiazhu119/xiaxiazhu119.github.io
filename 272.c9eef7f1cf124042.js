"use strict";(self.webpackChunkwa_o_island=self.webpackChunkwa_o_island||[]).push([[272],{7931:(I,f,n)=>{n.d(f,{q:()=>x});var r=n(8126),h=n(3815),l=n(9724),M=n(8546);let x=(()=>{class t extends r.b{constructor(s){super(s),this.routeService=s,this.overall=!1,this.deleteConfirmContent="\u786e\u5b9a\u8981\u5220\u9664\u8be5\u9879\u76ee\u5417\uff1f",this.modulePath=this.getModulePath()}ngOnInit(){this.initFormDialog()}onKeywordChanged(s){}initSC(){}search(){this.initSC()}checkOverall(){var s;this.overall=!this.overall,null===(s=this.list)||void 0===s||s.map(d=>{d.checked=this.overall})}checkSingle(s){var d,u;s.checked=!s.checked,this.overall=(null===(d=this.list)||void 0===d?void 0:d.filter(v=>v.checked).length)===(null===(u=this.list)||void 0===u?void 0:u.length)}listPageOnInit(){this.initSC(),this.initGetListFn(),this.getList()}view(s){this.routeService.routerNavigate([`/cms/${this.modulePath}/view`,s])}create(){this.routeService.routerNavigate(`/cms/${this.modulePath}/create`)}createInDialog(){this.newDataInstance&&this.editInDialog(this.newDataInstance)}edit(s){this.routeService.routerNavigate([`/cms/${this.modulePath}/edit`,s])}editInDialog(s){this.matDialogService&&this.matDialogConfig&&(this.matDialogConfig.title=(s.id?"\u7f16\u8f91":"\u521b\u5efa")+this.formDialogTag,this.matDialogConfig.data=h.cloneDeep(s),this.matDialogService.openDialog(this.matDialogConfig))}initFormDialog(){}batchDelete(){}delete(s){this.matDialogService.openConfirmDialog(this.deleteConfirmContent,d=>{this.deleteOnConfirm(s,d),d.close()})}deleteOnConfirm(s,d){}save(){console.log("save in base")}initGetListFn(){}getList(){this.getListFn(...this.getListFnParams,s=>{this.getListCallback(s)})}getModulePath(){const d=this.routeService.getLocationPath().split("/");return d.slice(2,d.length-1).join("/")}}return t.\u0275fac=function(s){return new(s||t)(l.LFG(M.Qx))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})()},3272:(I,f,n)=>{n.r(f),n.d(f,{CmsLayoutModule:()=>ct});var r=n(1048),h=n(8413),T=n(4977),l=n(8546),M=n(873),x=n(7931),t=n(9724),y=n(185);const s=function(e){return{activated:e}};function d(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"li",2)(1,"a",3),t.NdJ("click",function(){const p=t.CHM(o).$implicit;return t.oxw().onNavClicked(p)}),t.TgZ(2,"i"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()}if(2&e){const o=a.$implicit;t.Q6J("ngClass",t.VKq(6,s,o.activated)),t.xp6(2),t.Tol(o.icon.provider),t.xp6(1),t.Oqu(o.icon.action),t.xp6(1),t.hij("\xa0 ",o.title,"")}}let u=(()=>{class e extends l.NG{constructor(o,i,c){super(o,i,c),this.eventAnnounceService=o,this.routeService=i,this.appConfigService=c,this.init=()=>{const p=this.appConfigService.getRouteConfig();this.routeModules=p.modules.cms.modules,this.pathPrefix="cms"}}ngOnInit(){super.ngOnInit()}onNavClicked(o){this.navItemClick(o)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.Le),t.Y36(l.Qx),t.Y36(y._Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cms-shared-sidebar-nav"]],features:[t._Bn([l.Qx]),t.qOj],decls:2,vars:1,consts:[[1,"nav-container"],["class","nav-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"nav-item",3,"ngClass"],["href","javascript:;",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"ul",0),t.YNc(1,d,5,8,"li",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",i.navList))},directives:[r.sg,r.mk],styles:['.nav-container{padding:0}.nav-container .nav-item{position:relative;z-index:1;margin-bottom:1rem}.nav-container .nav-item.activated:after,.nav-container .nav-item.activated:hover:after{width:100%;background:#f93154 var(--mdb-gradient);box-shadow:0 5px 10px #00000040}.nav-container .nav-item.activated a,.nav-container .nav-item.activated:hover a{color:#fff}.nav-container .nav-item:hover:after{width:100%;background:#f2f2f2}.nav-container .nav-item:after{content:"";position:absolute;top:0;left:0;z-index:0;width:0;height:100%;overflow:hidden;transition:all .3s ease}.nav-container .nav-item a{display:block;position:relative;z-index:1;width:100%;padding:1rem 2rem;color:#555}\n'],encapsulation:2}),e})();var v=n(1861),N=n(2541),Z=n(1531);let J=(()=>{class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(o){this._vertical=(0,N.Ig)(o)}get inset(){return this._inset}set inset(o){this._inset=(0,N.Ig)(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(o,i){2&o&&(t.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),t.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(o,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),e})(),j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[Z.BQ],Z.BQ]}),e})(),H=(()=>{class e{constructor(o){this.routeService=o,this.noticeClicked=new t.vpe}ngOnInit(){}goToProfile(){}goToPwd(){this.routeService.routerNavigate("/cms/user/pwd/0")}signOut(){this.routeService.routerNavigate("/passport/sign-out")}onNoticeClick(){this.noticeClicked.emit()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.Qx))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cms-shared-header-nav"]],outputs:{noticeClicked:"noticeClicked"},decls:19,vars:1,consts:[[1,"cms-header-nav-container"],[1,"notice","me-5"],["href","javascript:;",1,"position-relative",3,"click"],[1,"material-icons"],[1,"position-absolute","top-0","translate-middle","p-2","bg-danger","border","border-light","rounded-circle"],[1,"visually-hidden"],[1,"avatar",3,"matMenuTriggerFor"],["src","assets/images/avatar.jpg","alt",""],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return i.onNoticeClick()}),t.TgZ(3,"i",3),t._uU(4,"notifications_none"),t.qZA(),t.TgZ(5,"span",4)(6,"span",5),t._uU(7,"New alerts"),t.qZA()()()(),t.TgZ(8,"div",6),t._UZ(9,"img",7),t.qZA()(),t.TgZ(10,"mat-menu",null,8)(12,"button",9),t.NdJ("click",function(){return i.goToProfile()}),t._uU(13,"Profile"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return i.goToPwd()}),t._uU(15,"Security"),t.qZA(),t._UZ(16,"mat-divider"),t.TgZ(17,"button",9),t.NdJ("click",function(){return i.signOut()}),t._uU(18,"Sign Out"),t.qZA()()),2&o){const c=t.MAs(11);t.xp6(8),t.Q6J("matMenuTriggerFor",c)}},directives:[v.p6,v.VK,v.OP,J],styles:[".cms-header-nav-container{display:flex;align-items:center}.cms-header-nav-container .notice a>i{color:#555;font-size:3rem}.cms-header-nav-container .notice a>span{left:75%}.cms-header-nav-container .avatar{display:inline-flex;width:40px;height:40px;overflow:hidden;border-radius:50%;vertical-align:middle}.cms-header-nav-container .avatar:hover{cursor:pointer}.cms-header-nav-container .mat-menu-panel{background:#fff;box-shadow:5px 5px 10px #00000026}.cms-header-nav-container .mat-menu-panel .mat-menu-item{background:#fff}.cms-header-nav-container .mat-menu-panel .mat-menu-item:hover{background:#f93154 var(--mdb-gradient);color:#fff}\n"],encapsulation:2}),e})();var D=n(1055);function Q(e,a){if(1&e&&(t.TgZ(0,"div")(1,"div",4)(2,"label",1),t._uU(3),t.qZA(),t.TgZ(4,"span",5),t._uU(5),t.qZA()(),t.TgZ(6,"div",6),t._uU(7),t.qZA()()),2&e){const o=a.$implicit;t.Gre("notice-item-container ",o.status,""),t.xp6(3),t.Oqu(o.title),t.xp6(2),t.Oqu(o.time),t.xp6(2),t.Oqu(o.content)}}let G=(()=>{class e{constructor(o){this.utilitiesService=o,this.noticeList=[]}ngOnInit(){for(let o=0;o<10;o++)this.noticeList.push({title:"title",status:this.utilitiesService.getEnumStr(D.sB,D.sB.Unread),time:(new Date).format("yyyy-MM-dd HH:mm:ss"),content:"contentcontentcontentcontentcontentcontentcontentcontentcontentcontentcontentcontentcontentcontentcontent"})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.zo))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cms-shared-notice-overlay"]],decls:6,vars:1,consts:[[1,"cms-notice-overlay-container"],[1,"title"],[1,"notice-list-container"],[3,"class",4,"ngFor","ngForOf"],[1,"summary"],[1,"time"],[1,"content"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"\u901a\u77e5\u63d0\u9192"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"div",2),t.YNc(5,Q,8,6,"div",3),t.qZA()()),2&o&&(t.xp6(5),t.Q6J("ngForOf",i.noticeList))},directives:[r.sg],styles:['.cms-notice-overlay-container[_ngcontent-%COMP%]{height:100%;overflow:scroll;padding:1rem 2rem}.cms-notice-overlay-container[_ngcontent-%COMP%]   .notice-list-container[_ngcontent-%COMP%]   .notice-item-container[_ngcontent-%COMP%]{position:relative;padding:1rem;margin-bottom:1rem;border-bottom:1px solid #e0e0e0}.cms-notice-overlay-container[_ngcontent-%COMP%]   .notice-list-container[_ngcontent-%COMP%]   .notice-item-container.unread[_ngcontent-%COMP%]:before{content:"";position:absolute;top:1.5rem;left:-.5rem;padding:.5rem;border-radius:50%;background:#f93154}.cms-notice-overlay-container[_ngcontent-%COMP%]   .notice-list-container[_ngcontent-%COMP%]   .notice-item-container[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:1rem}.cms-notice-overlay-container[_ngcontent-%COMP%]   .notice-list-container[_ngcontent-%COMP%]   .notice-item-container[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.cms-notice-overlay-container[_ngcontent-%COMP%]   .notice-list-container[_ngcontent-%COMP%]   .notice-item-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{word-break:break-all}']}),e})();const A=function(e){return{expanded:e}},m=T.e.routes.modules.cms.modules,b=m.user,g=b.modules,L=m.authorization,R=L.modules.group,O=R.modules,E=m.admin,C=E.modules,U=m.news,S=U.modules,z=m.situation,P=z.modules,F=m.bracelet,B=F.modules.menu,nt=[{path:"",component:(()=>{class e extends x.q{constructor(o,i){super(o),this.routeService=o,this.appConfigService=i,this.expanded=!0,this.noticeOverlayExpanded=!1}ngOnInit(){this.getPageTitle()}onNoticeClicked(o){this.noticeOverlayExpanded=!this.noticeOverlayExpanded}onNavigationEnd(o,i){this.getPageTitle(o.url)}getPageTitle(o){o=o||this.routeService.getLocationPath();const i=this.appConfigService.getRouterModuleByUrl(o);this.pageTitle=i.title}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.Qx),t.Y36(y._Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["cms-layout"]],features:[t._Bn([l.Qx]),t.qOj],decls:22,vars:9,consts:[[1,"cms-layout-container",3,"ngClass"],[1,"cms-sidebar-nav"],[1,"text-center","title"],["href","javascript:;",1,"switcher",3,"click"],[1,"material-icons"],[1,"cms-body"],[1,"cms-header-nav"],[1,"title"],[3,"noticeClicked"],[1,"cms-content-container"],[1,"cms-notice-overlay",3,"ngClass"],[1,"mask",3,"click"],[1,"cms-notice-overlay-body"],["href","javascript:;",1,"overlay-switcher",3,"hidden","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"\u54c7\u5662\u5c9b\u540e\u53f0\u7ba1\u7406"),t.qZA(),t._UZ(4,"cms-shared-sidebar-nav"),t.TgZ(5,"a",3),t.NdJ("click",function(){return i.expanded=!i.expanded}),t.TgZ(6,"i",4),t._uU(7),t.qZA()()(),t.TgZ(8,"div",5)(9,"div",6)(10,"h2",7),t._uU(11),t.qZA(),t.TgZ(12,"cms-shared-header-nav",8),t.NdJ("noticeClicked",function(p){return i.onNoticeClicked(p)}),t.qZA()(),t.TgZ(13,"div",9),t._UZ(14,"router-outlet"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11),t.NdJ("click",function(){return i.onNoticeClicked()}),t.qZA(),t.TgZ(17,"div",12)(18,"a",13),t.NdJ("click",function(){return i.onNoticeClicked()}),t.TgZ(19,"i",4),t._uU(20,"close"),t.qZA()(),t._UZ(21,"cms-shared-notice-overlay"),t.qZA()()()()),2&o&&(t.Q6J("ngClass",t.VKq(5,A,i.expanded)),t.xp6(7),t.Oqu(i.expanded?"chevron_left":"chevron_right"),t.xp6(4),t.Oqu(i.pageTitle),t.xp6(4),t.Q6J("ngClass",t.VKq(7,A,i.noticeOverlayExpanded)),t.xp6(3),t.Q6J("hidden",!i.noticeOverlayExpanded))},directives:[r.mk,u,H,h.lC,G],styles:[".cms-layout-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100vh;overflow-x:hidden;background:#f2f2f2}.cms-layout-container.expanded[_ngcontent-%COMP%]   .cms-sidebar-nav[_ngcontent-%COMP%]{margin:0}.cms-layout-container[_ngcontent-%COMP%]   .cms-sidebar-nav[_ngcontent-%COMP%]{position:relative;width:20vw;height:100vh;padding:2rem 1rem;margin-left:-20vw;background:#fff;box-shadow:10px 0 20px #00000026;transition:margin .3s ease-in-out}.cms-layout-container[_ngcontent-%COMP%]   .cms-sidebar-nav[_ngcontent-%COMP%]   .switcher[_ngcontent-%COMP%]{position:absolute;right:-18px;top:50%;z-index:1;margin-top:-12px}.cms-layout-container[_ngcontent-%COMP%]   .cms-sidebar-nav[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-bottom:2rem;margin-bottom:2rem;border-bottom:1px solid #ddd}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]{flex:0 1 100%;height:100vh;overflow:hidden;padding:2rem}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-header-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:4rem;margin-bottom:2rem}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-content-container[_ngcontent-%COMP%]{height:calc(100vh - 10rem);overflow-x:hidden;overflow-y:auto}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-notice-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2;width:0;height:100vh;overflow:hidden;opacity:0;box-shadow:-10px 0 20px #00000026;transition:all .3s ease-in-out}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-notice-overlay.expanded[_ngcontent-%COMP%]{width:100vw;opacity:1}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-notice-overlay[_ngcontent-%COMP%]   .cms-notice-overlay-body[_ngcontent-%COMP%]{position:absolute;right:0;z-index:10;width:50vw;height:100%;background:#fff}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-notice-overlay[_ngcontent-%COMP%]   .cms-notice-overlay-body[_ngcontent-%COMP%]   .overlay-switcher[_ngcontent-%COMP%]{position:absolute;top:0;left:-42px;z-index:10;padding:6px;background:#7979de;color:#fff;line-height:1}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-notice-overlay[_ngcontent-%COMP%]   .cms-notice-overlay-body[_ngcontent-%COMP%]   .overlay-switcher[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}.cms-layout-container[_ngcontent-%COMP%]   .cms-body[_ngcontent-%COMP%]   .cms-content-container[_ngcontent-%COMP%]{padding:2rem;background:#fff}"]}),e})(),children:[{path:m.dashboard.path,loadChildren:()=>n.e(834).then(n.bind(n,2834)).then(e=>e.CmsDashboardIndexModule)},{path:b.path,children:[{path:g.list.path,loadChildren:()=>Promise.all([n.e(88),n.e(592),n.e(239)]).then(n.bind(n,8239)).then(e=>e.CmsUserListModule)},{path:g.view.path+g.view.params,loadChildren:()=>n.e(891).then(n.bind(n,891)).then(e=>e.CmsUserViewModule)},{path:g.pwd.path+g.pwd.params,loadChildren:()=>n.e(499).then(n.bind(n,1499)).then(e=>e.CmsUserPwdModule)}]},{path:U.path,children:[{path:S.list.path,loadChildren:()=>Promise.all([n.e(88),n.e(592),n.e(959)]).then(n.bind(n,2959)).then(e=>e.CmsNewsListModule)},{path:S.edit.path+C.edit.params,loadChildren:()=>Promise.all([n.e(88),n.e(663),n.e(517)]).then(n.bind(n,2517)).then(e=>e.CmsNewsEditModule)},{path:S.create.path,loadChildren:()=>Promise.all([n.e(88),n.e(663),n.e(517)]).then(n.bind(n,2517)).then(e=>e.CmsNewsEditModule)}]},{path:z.path,children:[{path:P.list.path,loadChildren:()=>Promise.all([n.e(88),n.e(230),n.e(592),n.e(926)]).then(n.bind(n,7926)).then(e=>e.CmsSituationListModule)},{path:P.edit.path+P.edit.params,loadChildren:()=>Promise.all([n.e(230),n.e(569)]).then(n.bind(n,9569)).then(e=>e.CmsSituationEditModule)},{path:P.create.path,loadChildren:()=>Promise.all([n.e(230),n.e(569)]).then(n.bind(n,9569)).then(e=>e.CmsSituationEditModule)}]},{path:m.meeting.path,loadChildren:()=>n.e(514).then(n.bind(n,2514)).then(e=>e.CmsMeetingLayoutModule)},{path:F.path,children:[{path:B.path,children:[{path:B.modules.list.path,loadChildren:()=>n.e(269).then(n.bind(n,8269)).then(e=>e.CmsBraceletMenuListModule),canDeactivate:[M.v]}]}]},{path:L.path,children:[{path:R.path,children:[{path:O.list.path,loadChildren:()=>Promise.all([n.e(88),n.e(496)]).then(n.bind(n,6067)).then(e=>e.CmsAuthorizationGroupListModule)},{path:O.edit.path+O.edit.params,loadChildren:()=>Promise.all([n.e(88),n.e(488)]).then(n.bind(n,4488)).then(e=>e.CmsAuthorizationGroupEditModule)},{path:O.create.path,loadChildren:()=>Promise.all([n.e(88),n.e(488)]).then(n.bind(n,4488)).then(e=>e.CmsAuthorizationGroupEditModule)}]}]},{path:E.path,children:[{path:C.list.path,loadChildren:()=>Promise.all([n.e(592),n.e(715)]).then(n.bind(n,8298)).then(e=>e.CmsAdminListModule)},{path:C.edit.path+C.edit.params,loadChildren:()=>Promise.all([n.e(592),n.e(31)]).then(n.bind(n,31)).then(e=>e.CmsAdminEditModule)},{path:C.create.path,loadChildren:()=>Promise.all([n.e(592),n.e(31)]).then(n.bind(n,31)).then(e=>e.CmsAdminEditModule)}]}]}];let ot=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[l.wd,M.v],imports:[[h.Bz.forChild(nt)],h.Bz]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez]]}),e})();var at=n(3472);let st=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,at.ot,v.Tx,j]]}),e})(),dt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez]]}),e})(),ct=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,ot,it,st,dt]]}),e})()}}]);